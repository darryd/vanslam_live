<div class="page_change" data-run="competition" hidden></div>

<script>
  var slam = JSON.parse('<%= @slam.to_json.html_safe%>');
  var rounds = JSON.parse('<%= @slam.rounds.order(:round_number).to_json.html_safe %>');  
  var events = JSON.parse('<%= @events.to_json.html_safe %>');
</script>

<div id="poets_competing" hidden>
  <div id="list_poets"><span style='font-weight:bold'> Poets: </span></div>

  <button id="add_poet" onclick="click_add_poet(this)"> 
    <span style='text-decoration:underline;'>A</span>dd Poet </button>
</div>

<%= render :partial => 'poet/lookup' %>

<h1> <%= @slam.title %> </h1>

<% @slam.rounds.order(:round_number).each do |round| %>
  <div id="round_<%=round.round_number%>">
    <h2> <%= round.title %> </h2>
    <p>
    Time limit: <%= (round.time_limit / 60).floor %>:<%= sprintf("%02d", round.time_limit % 60) %>,
    Grace period: 10 seconds
    </p>
    <div id="performances_<%= round.round_number %>"></div>
    <div id="poets_<%= round.round_number %>" class="poets_for_round, visible_when_logged_in"></div>
  </div>
<% end %>
